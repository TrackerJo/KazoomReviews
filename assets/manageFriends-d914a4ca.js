import{j as a,a as e,p as x,q as C,t as _,u as y,r as c,v as L,c as j,R as E,F as I,w as g,x as p,y as w,z as M}from"./index-5ef40ff5.js";function T({friend:n,updateFriends:t}){async function s(){await x(n.uid),t()}return a("div",{className:"FriendLabel",children:[e("label",{children:n.Name}),e("img",{src:"./assets/x_circle_white.png",alt:"remove friend",className:"remove",onClick:s})]})}function B({friends:n,updateFriends:t}){return a("div",{className:"Friends",children:[e("br",{}),e("div",{className:"friendList",children:n.map(s=>e(T,{friend:s,updateFriends:t},s.uid))})]})}function V({friend:n,updateFriendRequests:t,updateFriends:s}){async function r(){await C(n.uid),t(),s()}async function d(){await _(n.uid),t()}return a("div",{className:"FriendRequestLabel",children:[e("label",{children:n.Name}),e("img",{src:"./assets/x_circle_white.png",alt:"reject request",className:"reject",onClick:d}),e("img",{src:"./assets/checkmark_circle_white.png",alt:"accept request",className:"accept",onClick:r})]})}function A({friendRequests:n,updateFriendRequests:t,updateFriends:s}){return a("div",{className:"FriendRequests",children:[e("br",{}),e("div",{className:"friendRequestsList",children:n.map(r=>e(V,{friend:r,updateFriendRequests:t,updateFriends:s},r.uid))})]})}function P({request:n,updateSentRequests:t}){function s(){y(n.uid),t()}return a("div",{className:"SentRequestLabel",children:[e("label",{children:n.Name}),e("img",{src:"./assets/x_circle_white.png",alt:"remove request",className:"remove",onClick:s})]})}function z({sentRequests:n,updateSentRequests:t}){return a("div",{className:"SentFriendRequests",children:[e("br",{}),e("div",{className:"sentRequestsList",children:n.map(s=>e(P,{request:s,updateSentRequests:t},s.uid))})]})}function $({isShown:n,setIsShown:t,updateSentRequests:s}){const[r,d]=c.exports.useState("");function l(u){document.getElementById("name").value="",t("hidden")}function h(u){d(u.target.value)}async function o(u){await L(r),s(),l()}return a("div",{className:"Prompt",id:n,children:[e("img",{src:"./assets/x_circle_fill.png",alt:"exit prompt",className:"exit",onClick:l}),e("h1",{children:"Send Friend Request"}),a("div",{className:"PromptInfo",children:[e("label",{children:"Friend's Name"}),e("br",{}),e("input",{type:"text",id:"name",onChange:h}),e("br",{}),e("button",{onClick:o,children:"Send Friend Request"})]})]})}j.createRoot(document.getElementById("root")).render(e(E.StrictMode,{children:e(D,{})}));function D(){const[n,t]=c.exports.useState("Friends"),[s,r]=c.exports.useState([]),[d,l]=c.exports.useState([]),[h,o]=c.exports.useState([]),[u,F]=c.exports.useState("hidden");c.exports.useEffect(()=>{async function i(){let R=await g();r(R);let k=await p();l(k);let S=await w();o(S)}setTimeout(()=>{i()},500)},[]);function v(i){window.location.href="/friends-and-family-reviews/"}function m(i){t(i.target.innerText),document.querySelector(".active").className="",i.target.className="active"}async function q(){let i=await w();o(i)}async function f(){let i=await g();r(i)}async function N(){let i=await p();l(i)}async function b(i){let R=await M();await navigator.clipboard.writeText(R),alert("Friend link copied to clipboard!")}return a(I,{children:[a("div",{className:"ManageFriends",children:[e("img",{src:"./assets/white_back_arrow.png",alt:"back arrow",className:"back",onClick:v}),e("h1",{children:"Manage Friends"}),e("img",{src:"./assets/add_person_fill_white.png",alt:"add friend",className:"addFriend",onClick:()=>F("visible")}),e("img",{src:"./assets/white_link.png",alt:"generate friend link",className:"friendLink",onClick:b}),a("ul",{children:[e("li",{children:e("a",{className:"active",onClick:m,children:"Friends"})}),e("li",{children:e("a",{onClick:m,children:"Friend Requests"})}),e("li",{children:e("a",{onClick:m,children:"Sent Friend Requests"})}),e("li",{children:e("a",{onClick:m,children:"Suggested Friends"})})]}),n=="Friends"?e(B,{friends:s,updateFriends:f}):n=="Friend Requests"?e(A,{friendRequests:d,updateFriends:f,updateFriendRequests:N}):e(z,{sentRequests:h,updateSentRequests:q})]}),e($,{isShown:u,setIsShown:F,updateSentRequests:q})]})}
